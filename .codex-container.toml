# Codex container project config

[env]
# Gateway session roots (defaults are applied if omitted)
CODEX_GATEWAY_SESSION_DIRS = "/opt/codex-home/.codex/sessions,/workspace/.codex-gateway-sessions"
CODEX_GATEWAY_SECURE_SESSION_DIR = "/opt/codex-home/.codex/sessions/secure"
# Uncomment to enforce secure-session token
# CODEX_GATEWAY_SECURE_TOKEN = "choose-a-secret"

CODEX_GATEWAY_WATCH_PATHS = "./temp"
CODEX_GATEWAY_WATCH_PATTERN = "**/*"
CODEX_GATEWAY_WATCH_PROMPT_FILE = "./examples/MONITOR.md"

# Example explicit env pushed into the container
SOME_SERVICE_URL = "https://api.example.com"
# Default character DB path (codex-home override for character saver/generator)
CODEX_CHAR_DIR = "/workspace/characters"

# Import these host env vars into the container if present
env_imports = [
  "ANTHROPIC_API_KEY",
  "OPENAI_API_KEY",
  "GH_TOKEN",
  "GITHUB_TOKEN",
  "OSS_API_KEY",
  "CODEX_SYSTEM_PROMPT_FILE",
  "CODEX_DISABLE_DEFAULT_PROMPT",
  "SESSION_WEBHOOK_URL",
  "SESSION_WEBHOOK_AUTH_BEARER",
  "SESSION_WEBHOOK_HEADERS_JSON",
  "SESSION_WEBHOOK_TIMEOUT_MS",
  "CODEX_UNSAFE_ALLOW_NO_SANDBOX",
  "CODEX_SANDBOX_NETWORK_DISABLED",
  "CODEX_GATEWAY_WATCH_PATHS",
  "CODEX_GATEWAY_WATCH_PATTERN",
  "CODEX_GATEWAY_WATCH_PROMPT_FILE",
  "CODEX_GATEWAY_WATCH_DEBOUNCE_MS",
  "CODEX_GATEWAY_WATCH_USE_WATCHDOG"
]

# Optional extra mounts
# NOTE: Sessions are already accessible via the main codex-home mount
# Don't add a separate ro mount as it blocks writes needed for resume

# Uncomment if C:/data/shared exists on your system:
# [[mounts]]
# host = "C:/data/shared"
# container = "/workspace/shared"
# mode = "rw"
